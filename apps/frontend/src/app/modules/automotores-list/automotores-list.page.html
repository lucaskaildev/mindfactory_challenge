<div class="flex items-center justify-between">
  <h2 class="text-2xl font-semibold">Automotores</h2>
  <a routerLink="/automotores/new" class="px-3 py-1 bg-blue-600 text-white rounded">Nuevo</a>
</div>

<ng-container *ngIf="loading">
  <div class="mt-6 text-gray-600">Cargando...</div>
</ng-container>

<ng-container *ngIf="!loading && error">
  <div class="mt-6 text-red-700 bg-red-50 border border-red-200 p-3 rounded">{{ error }}</div>
</ng-container>

<ng-container *ngIf="!loading && !error && automotores.length; else empty">
  <div class="mt-4 overflow-x-auto">
    <table class="min-w-full text-sm">
      <thead>
        <tr class="text-left text-gray-600 border-b">
          <th class="py-2 pr-4">Dominio</th>
          <th class="py-2 pr-4">Dueño</th>
          <th class="py-2 pr-4">CUIT</th>
          <th class="py-2 pr-4">Fabricación</th>
          <th class="py-2 pr-4">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let a of automotores; trackBy: trackByDominio" class="border-b hover:bg-gray-50">
          <td class="py-2 pr-4 font-medium">{{ a.dominio }}</td>
          <td class="py-2 pr-4">{{ a.denominacionDueno || '—' }}</td>
          <td class="py-2 pr-4">{{ a.cuitDueno || '—' }}</td>
          <td class="py-2 pr-4">{{ a.fechaFabricacion }}</td>
          <td class="py-2 pr-4 flex gap-2">
            <a [routerLink]="['/automotores', a.dominio, 'edit']" class="px-2 py-1 bg-gray-200 rounded">Editar</a>
            <button type="button" (click)="onDelete(a.dominio)" class="px-2 py-1 bg-red-600 text-white rounded">
              Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</ng-container>

<ng-template #empty>
  <div class="mt-6 text-gray-600">No hay automotores todavía.</div>
</ng-template>
